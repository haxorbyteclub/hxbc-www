<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>HaxorByteClub</title>
	<base href="/" />
	<link rel="stylesheet" href="systemcss/style.min.css" />
	<link rel="stylesheet" href="css/tw.min.css" />
	<link rel="stylesheet" href="css/app.css" />
	<link href="HaxorByteClub.styles.css" rel="stylesheet" />

	<link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
	<link rel="manifest" href="icons/site.webmanifest">

</head>

<body>
	<div id="app">
		<div
			class="standard-dialog fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-xs sm:max-w-md md:max-w-lg mx-auto">
			<h1 class="dialog-text loading-message loading-progress"></h1>
			<p class="dialog-text loading-progress-text"></p>
			<div class="border-2 border-neutral-6 border-t-neutral-8 border-l-neutral-8 p-1 bg-neutral-1 w-full">
				<div class="progress-thumb h-[22px] w-0 bg-blue-600 transition-all duration-[150ms]" id="progressThumb">
				</div>
			</div>
		</div>
	</div>

	<div id="blazor-error-ui">
		An unhandled error has occurred.
		<a href="." class="reload">Reload</a>
		<span class="dismiss">ðŸ—™</span>
	</div>
	<script src="js/app.min.js"></script>
	<script src="_framework/blazor.webassembly.js" autostart="false"></script>
	<script>navigator.serviceWorker.register('service-worker.js');</script>
	<script>
		const messages = [
			"Booting up the flux capacitor...",
			"Reticulating splines...",
			"Compiling infinite loop...",
			"Decrypting the mainframe...",
			"Bypassing the firewall...",
			"Loading the matrix...",
			"Reversing the polarity...",
			"Initializing the coffee machine...",
			"Unleashing the kraken...",
			"Hacking the Gibson...",
			"Compiling the kernel...",
			"Uploading to the cloud...",
			"Refactoring spaghetti code...",
			"Debugging the debugger...",
			"Synchronizing the blockchain...",
			"Mining cryptocurrency...",
			"Connecting to the mainframe...",
			"Executing the payload...",
			"Patching the system...",
			"Defragmenting the hard drive...",
			"Rebooting the system...",
			"Initializing the AI...",
			"Generating the fractal...",
			"Calculating the quantum entanglement...",
			"Skynet is coming online...",
			"Quantum tunneling...",
		];

		messages.sort(() => Math.random() - 0.5);

		let messageIndex = Math.floor(Math.random() * messages.length);
		let messageChangeCounter = 0;
		const maxMessageChanges = 6;

		const totalDuration = Math.random() * (4000 - 1000) + 1000;
		const steps = Math.floor(Math.random() * (100 - 30) + 30);
		let intervalDuration = totalDuration / steps;
		const baseMessageChangeInterval = Math.floor(steps / maxMessageChanges);

		const timer = setInterval(() => {
			const progress = document.querySelector('.loading-progress');
			const progressText = document.querySelector('.loading-progress-text');
			const randomFactor = Math.random() * 0.3 + 0.9;
			const messageChangeInterval = Math.floor(baseMessageChangeInterval * randomFactor);

			if (messageChangeCounter % messageChangeInterval === 0 && messageChangeCounter / messageChangeInterval < maxMessageChanges) {
				messageIndex = Math.floor(Math.random() * messages.length);
				setMessage(messages[messageIndex]);
			}
			messageChangeCounter++;

			const progressValue = parseInt(document.getElementById('progressThumb').style.width) || 0;
			if (progressValue < 100) {
				setProgress(progressValue + (100 / steps));
			} else {
				clearInterval(timer);

				setMessage('Welcome to HaxorByte.Club');
				setTimeout(() => {
					progress.style.display = 'none';
					progressText.style.display = 'none';
					document.querySelector('.standard-dialog').style.display = 'none';
					Blazor.start();
				}, 1000);
			}
		}, intervalDuration);
		function setProgress(value) {
			document.getElementById('progressThumb').style.width = value + '%';
		}
		function setMessage(message) {
			document.querySelector('.loading-message').textContent = message;
		}

	</script>
</body>

</html>